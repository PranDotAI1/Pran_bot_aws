version: 1
frontend:
  phases:
    preBuild:
      commands:
        - npm ci
    build:
      commands:
        - npm run build
  artifacts:
    baseDirectory: build
    files:
      - '**/*'
  cache:
    paths:
      - node_modules/**/*

# Rewrite rules to proxy API requests (fixes HTTPS/HTTP mixed content)
rewrites:
  - source: /api/chatbot
    target: http://pran-chatbot-alb-738129713.us-east-1.elb.amazonaws.com:8080/rasa-webhook
    status: 200
    headers:
      Content-Type: application/json

